%%{init: {'theme': 'dark', 'themeVariables': { 'primaryColor': '#2b2b2b', 'edgeLabelBackground':'#2b2b2b', 'tertiaryColor': '#1f1f1f'}}}%%
graph LR
    %% Defini√ß√£o das Raias (Swimlanes) com t√≠tulos claros
    subgraph Cliente_Lane [üë§ Cliente - Autoatendimento]
        direction TB
        A[Acessar Portal]
        B[Preencher Formul√°rio]
        C[Corrigir Dados]
        D[Receber Confirma√ß√£o]
    end

    subgraph Sistema_Lane [ü§ñ Sistema Automatizado]
        direction TB
        E{Dados V√°lidos?}
        F{Cliente j√° existe?}
        G{Regra de Risco?}
        H[Registrar no BD]
        I[Enviar E-mail]
        J[Notificar Erro]
    end

    subgraph Gerencia_Lane [üëî Ger√™ncia - Exce√ß√µes]
        direction TB
        K[An√°lise de Cr√©dito]
        L{Aprovar?}
    end

    %% Conex√µes
    A --> B
    B --> E
    
    %% Valida√ß√µes
    E -- N√£o --> J
    J --> C
    C --> E
    
    E -- Sim --> F
    F -- Sim --> J2[Sugerir Recupera√ß√£o]
    J2 --> A
    
    F -- N√£o --> G
    
    %% Decis√£o Autom√°tica
    G -- Baixo Risco --> H
    G -- Alto Risco --> K
    
    %% Decis√£o Humana
    K --> L
    L -- Recusado --> M[Enviar Motivo]
    M --> C
    L -- Aprovado --> H
    
    %% Finaliza√ß√£o
    H --> I
    I --> D
    
    %% ESTILIZA√á√ÉO DARK MODE (Alto Contraste)
    %% Cliente: Cinza Escuro com borda Ciano
    classDef actor fill:#37474f,stroke:#00bcd4,stroke-width:2px,color:#fff;
    
    %% Sistema: Azul Noturno com borda Azul Claro
    classDef system fill:#0d47a1,stroke:#42a5f5,stroke-width:2px,color:#fff;
    
    %% Ger√™ncia: Roxo Escuro com borda Lil√°s
    classDef manager fill:#4a148c,stroke:#ab47bc,stroke-width:2px,color:#fff;
    
    %% Aplica√ß√£o das classes
    class A,B,C,D,J2 actor;
    class E,F,G,H,I,J system;
    class K,L,M manager;
